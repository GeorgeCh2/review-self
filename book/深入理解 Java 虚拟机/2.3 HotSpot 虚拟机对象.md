### 对象的创建
* 当 Java 虚拟机遇到一条字节码 new 指令时，首先将去检查这个指令的参数是否能在常量池中定位到一个类的符号引用，并且检查这个符号引用代表的类是否已被加载、解析和初始化过。
* 在类加载检查通过后，接下来虚拟机将为新生对象分配内存（指针碰撞/空闲列表）。**内存分配并发问题**的解决手段：采用 CAS + 失败重试保证更新操作的原子性；把内存分配的动作按照线程划分在不同的空间之中进行，每个线程在 Java 堆中预先分配一小块内存，成为本地线程分配缓冲区（Thread Local Allocation Buffer，TLAB），先使用本地缓冲区，用完后再通过同步锁定分配新的缓冲区
* 内存分配完成之后，虚拟机必须将分配到的内存空间都初始化为零值（保证了对象的实例字段在 Java 代码中可以不赋值就直接使用）
* 对对象进行必要的设置（对象是哪个类的实例、类的元数据信息、对象的哈希码、对象的 GC 分代年龄等信息）

### 对象的内存布局
对象在堆内存中的存储布局：对象头（Header）、实例数据（Instance Data）和对齐填充（Padding）  
**对象头**：对象自身的运行时数据 Mark Word（哈希码、GC分代年龄、锁状态标志、线程持有的锁、偏向线程ID、偏向时间戳）；类型指针（类型元数据的指针）  
**实例数据**：对象真正存储的有效信息，程序代码里面所定义的各种类型的字段内容  
**对齐填充**： 占位符，满足对象大小是8字节的整数倍

### 对象的访问定位
Java 程序会通过栈上的 reference 数据来操作堆上的具体对象。  
访问方式：
* 句柄访问：Java 堆中划分出一块内存作为句柄池，其中存储了对象实例数据与类型数据各自具体的地址。reference 中存储的就是对象的句柄地址
* 直接指针访问：reference 中存储的直接就是对象地址